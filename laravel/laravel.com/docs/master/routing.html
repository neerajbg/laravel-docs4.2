<!doctype html>

<html lang="en">


<!-- Mirrored from laravel.com/docs/master/routing by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 02 Feb 2015 04:45:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    <title>Laravel - The PHP framework for web artisans.</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=9,chrome=1">
    <meta name="author" content="Taylor Otwell">
    <meta name="description" content="Laravel - The PHP framework for web artisans.">
    <meta name="keywords" content="laravel, php, framework, web, artisans, taylor otwell">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" href="../../favicon5e1f.png?v=2">

    <link href="../../assets/css/styles.css" rel="stylesheet">

    <!-- fonts -->
    <script src="../../../use.edgefonts.net/source-sans-pro_n3%2ci3%2cn4%2ci4%2cn6%2ci6%2cn7%2ci7.js"></script>
    <script src="../../../use.edgefonts.net/source-code-pro.js"></script>

    <!--[if IE]><link href="assets/css/ie.css" rel="stylesheet" type="text/css"><![endif]-->

    <!-- HTML5 elements in less than IE9, yes please! -->
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

    <!-- If less than IE8 add some JS for the webfont icons -->
    <!--[if lt IE 8]><script src="assets/js/ie_font.js"></script><![endif]-->

        <script>
        var _gaq=[['_setAccount','UA-23865777-1'],['_trackPageview']];
        (function(d,t){
            var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)
        }(document,'script'));
    </script>
    
</head>

<body id="index" class="page">

    <!--[if lt IE 7]>
        <p>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p>
    <![endif]-->

    <div id="wrapper">

    <header id="header" role="header">
    <div class="boxed">
        <div id="tagline">
            <h1>Documentation.</h1>
        </div>

        <div id="version">
            <ul class="nolist">
                                    <li class="current">
                        <a href="../master.html" title="Dev">Dev</a>
                    </li>
                                    <li class="">
                        <a href="../4.html" title="4.2">4.2</a>
                    </li>
                                    <li class="">
                        <a href="../4-2.html" title="4.1">4.1</a>
                    </li>
                                    <li class="">
                        <a href="../4-3.html" title="4.0">4.0</a>
                    </li>
                            </ul>
        </div>
    </div>
</header>

<nav id="primary">
    <div class="boxed">
        <div id="logo-head">
            <a href="http://laravel.com/"><img src="../../assets/img/logo-head.png" alt="Laravel"></a>
        </div>
        <ul class="primary-nav-ul">
            <li><a href="#">Welcome</a></li>
            <li class="current-item"><a href="http://laravel.com/docs" title="Documentation">Documentation</a></li>
            <li><a href="http://laravel.com/api/4.2" title="Laravel Framework API">API</a></li>
            <li><a href="http://laracasts.com/" title="Documentation">Laracasts</a></li>
            <li><a href="https://forge.laravel.com/">Forge</a></li>
            <li><a href="http://blog.laravel.com/">Blog</a></li>
            <li class="community">
              <a href="#" title="Laravel Community Resources">Community</a>
              <ul>
                <li><a href="https://github.com/laravel/laravel" title="Github">Github</a></li>
                <li><a href="http://twitter.com/laravelphp" title="Laravel on Twitter">Twitter</a></li>
                <li><a href="https://laracasts.com/discuss">Laracasts Forums</a></li>
                <li><a href="http://laravel.io/forum">Laravel.io Forums</a></li>
                <li><a href="http://larajobs.com/?partner=5">LaraJobs</a></li>
              </ul>
            </li>
        </ul>
        <a href="#" class="show-primary-nav">Menu</a>
    </div>
</nav>

<div id="content">

    <section id="documentation">
        <article class="boxed">

            <ul class="version-picker--mobile nolist">
                                <li class="current">
                    <a href="../master.html" title="Dev">Dev</a>
                </li>
                                <li class="">
                    <a href="../4.html" title="4.2">4.2</a>
                </li>
                                <li class="">
                    <a href="../4-2.html" title="4.1">4.1</a>
                </li>
                                <li class="">
                    <a href="../4-3.html" title="4.0">4.0</a>
                </li>
                            </ul>
            <a href="#" class="docs-show" data-show-text="Navigate" data-hide-text="Close">Navigate</a>

            <nav id="docs">
                <ul>
<li>Prologue
<ul>
<li><a href="introduction.html">Introduction</a></li>
<li><a href="releases.html">Release Notes</a></li>
<li><a href="upgrade.html">Upgrade Guide</a></li>
<li><a href="contributions.html">Contribution Guide</a></li>
</ul></li>
<li>Setup
<ul>
<li><a href="installation.html">Installation</a></li>
<li><a href="configuration.html">Configuration</a></li>
<li><a href="homestead.html">Homestead</a></li>
</ul></li>
<li>HTTP Basics
<ul>
<li><a href="routing.html">Routing</a></li>
<li><a href="middleware.html">Middleware</a></li>
<li><a href="controllers.html">Controllers</a></li>
<li><a href="requests.html">Requests</a></li>
<li><a href="responses.html">Responses</a></li>
<li><a href="views.html">Views</a></li>
</ul></li>
<li>Architecture Foundations
<ul>
<li><a href="providers.html">Service Providers</a></li>
<li><a href="container.html">Service Container</a></li>
<li><a href="contracts.html">Contracts</a></li>
<li><a href="facades.html">Facades</a></li>
<li><a href="lifecycle.html">Request Lifecycle</a></li>
<li><a href="structure.html">Application Structure</a></li>
</ul></li>
<li>Services
<ul>
<li><a href="authentication.html">Authentication</a></li>
<li><a href="billing.html">Billing</a></li>
<li><a href="cache.html">Cache</a></li>
<li><a href="collections.html">Collections</a></li>
<li><a href="bus.html">Command Bus</a></li>
<li><a href="extending.html">Core Extension</a></li>
<li><a href="encryption.html">Encryption</a></li>
<li><a href="errors.html">Errors &amp; Logging</a></li>
<li><a href="events.html">Events</a></li>
<li><a href="filesystem.html">Filesystem / Cloud Storage</a></li>
<li><a href="hashing.html">Hashing</a></li>
<li><a href="helpers.html">Helpers</a></li>
<li><a href="localization.html">Localization</a></li>
<li><a href="mail.html">Mail</a></li>
<li><a href="packages.html">Package Development</a></li>
<li><a href="pagination.html">Pagination</a></li>
<li><a href="queues.html">Queues</a></li>
<li><a href="session.html">Session</a></li>
<li><a href="templates.html">Templates</a></li>
<li><a href="testing.html">Unit Testing</a></li>
<li><a href="validation.html">Validation</a></li>
</ul></li>
<li>Database
<ul>
<li><a href="database.html">Basic Usage</a></li>
<li><a href="queries.html">Query Builder</a></li>
<li><a href="eloquent.html">Eloquent ORM</a></li>
<li><a href="schema.html">Schema Builder</a></li>
<li><a href="migrations.html">Migrations &amp; Seeding</a></li>
<li><a href="redis.html">Redis</a></li>
</ul></li>
<li>Artisan CLI
<ul>
<li><a href="artisan.html">Overview</a></li>
<li><a href="commands.html">Development</a></li>
</ul></li>
</ul>
            </nav>

            <div id="docs-content">
                <h1>HTTP Routing</h1>
<ul>
<li><a href="#basic-routing">Basic Routing</a></li>
<li><a href="#csrf-protection">CSRF Protection</a></li>
<li><a href="#method-spoofing">Method Spoofing</a></li>
<li><a href="#route-parameters">Route Parameters</a></li>
<li><a href="#named-routes">Named Routes</a></li>
<li><a href="#route-groups">Route Groups</a></li>
<li><a href="#route-model-binding">Route Model Binding</a></li>
<li><a href="#throwing-404-errors">Throwing 404 Errors</a></li>
</ul>
<p><a name="basic-routing"></a></p>
<h2>Basic Routing</h2>
<p>You will define most of the routes for your application in the <code>app/Http/routes.php</code> file, which is loaded by the <code>App\Providers\RouteServiceProvider</code> class. The most basic Laravel routes simply accept a URI and a <code>Closure</code>:</p>
<h4>Basic GET Route</h4>
<pre><code>Route::get('/', function()
{
    return 'Hello World';
});</code></pre>
<h4>Other Basic Routes Route</h4>
<pre><code>Route::post('foo/bar', function()
{
    return 'Hello World';
});

Route::put('foo/bar', function()
{
    //
});

Route::delete('foo/bar', function()
{
    //
});</code></pre>
<h4>Registering A Route For Multiple Verbs</h4>
<pre><code>Route::match(['get', 'post'], '/', function()
{
    return 'Hello World';
});</code></pre>
<h4>Registering A Route That Responds To Any HTTP Verb</h4>
<pre><code>Route::any('foo', function()
{
    return 'Hello World';
});</code></pre>
<p>Often, you will need to generate URLs to your routes, you may do so using the <code>url</code> helper:</p>
<pre><code>$url = url('foo');</code></pre>
<p><a name="csrf-protection"></a></p>
<h2>CSRF Protection</h2>
<p>Laravel makes it easy to protect your application from <a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">cross-site request forgeries</a>. Cross-site request forgeries are a type of malicious exploit whereby unauthorized commands are performed on behalf of the authenticated user.</p>
<p>Laravel automatically generates a CSRF "token" for each active user session managed by the application. This token is used to verify that the authenticated user is the one actually making the requests to the application.</p>
<h4>Insert The CSRF Token Into A Form</h4>
<pre><code>&lt;input type="hidden" name="_token" value="&lt;?php echo csrf_token(); ?&gt;"&gt;</code></pre>
<p>Of course, using the Blade <a href="templating.html">templating engine</a>:</p>
<pre><code>&lt;input type="hidden" name="_token" value="{{ csrf_token() }}"&gt;</code></pre>
<p>You do not need to manually verify the CSRF token on POST, PUT, or DELETE requests. The <code>VerifyCsrfToken</code> <a href="middleware.html">HTTP middleware</a> will verify token in the request input matches the token stored in the session.</p>
<p>In addition to looking for the CSRF token as a "POST" parameter, the middleware will also check for the <code>X-XSRF-TOKEN</code> request header, which is commonly used by JavaScript frameworks.</p>
<p><a name="method-spoofing"></a></p>
<h2>Method Spoofing</h2>
<p>HTML forms do not support <code>PUT</code> or <code>DELETE</code> actions. So, when defining <code>PUT</code> or <code>DELETE</code> routes that are called from an HTML form, you will need to add a hidden <code>_method</code> field to the form.</p>
<p>The value sent with the <code>_method</code> field will be used as the HTTP request method. For example:</p>
<pre><code>&lt;form action="/foo/bar" method="POST"&gt;
    &lt;input type="hidden" name="_method" value="PUT"&gt;
    &lt;input type="hidden" name="_token" value="&lt;?php echo csrf_token(); ?&gt;"&gt;
&lt;/form&gt;</code></pre>
<p><a name="route-parameters"></a></p>
<h2>Route Parameters</h2>
<p>Of course, you can capture segments of the request URI within your route:</p>
<h4>Basic Route Parameter</h4>
<pre><code>Route::get('user/{id}', function($id)
{
    return 'User '.$id;
});</code></pre>
<h4>Optional Route Parameters</h4>
<pre><code>Route::get('user/{name?}', function($name = null)
{
    return $name;
});</code></pre>
<h4>Optional Route Parameters With Default Value</h4>
<pre><code>Route::get('user/{name?}', function($name = 'John')
{
    return $name;
});</code></pre>
<h4>Regular Expression Parameter Constraints</h4>
<pre><code>Route::get('user/{name}', function($name)
{
    //
})
-&gt;where('name', '[A-Za-z]+');

Route::get('user/{id}', function($id)
{
    //
})
-&gt;where('id', '[0-9]+');</code></pre>
<h4>Passing An Array Of Constraints</h4>
<pre><code>Route::get('user/{id}/{name}', function($id, $name)
{
    //
})
-&gt;where(['id' =&gt; '[0-9]+', 'name' =&gt; '[a-z]+'])</code></pre>
<h4>Defining Global Patterns</h4>
<p>If you would like a route parameter to always be constrained by a given regular expression, you may use the <code>pattern</code> method. You should define these patterns in the <code>before</code> method of your <code>RouteServiceProvider</code>:</p>
<pre><code>$router-&gt;pattern('id', '[0-9]+');</code></pre>
<p>Once the pattern has been defined, it is applied to all routes using that parameter:</p>
<pre><code>Route::get('user/{id}', function($id)
{
    // Only called if {id} is numeric.
});</code></pre>
<h4>Accessing A Route Parameter Value</h4>
<p>If you need to access a route parameter value outside of a route, use the <code>input</code> method:</p>
<pre><code>if ($route-&gt;input('id') == 1)
{
    //
}</code></pre>
<p>You may also access the current route parameters via the <code>Illuminate\Http\Request</code> instance. The request instance for the current request may be accessed via the <code>Request</code> facade, or by type-hinting the <code>Illuminate\Http\Request</code> where dependencies are injected:</p>
<pre><code>use Illuminate\Http\Request;

Route::get('user/{id}', function(Request $request, $id)
{
    if ($request-&gt;route('id'))
    {
        //
    }
});</code></pre>
<p><a name="named-routes"></a></p>
<h2>Named Routes</h2>
<p>Named routes allow you to conveniently generate URLs or redirects for a specific route. You may specify a name for a route with the <code>as</code> array key:</p>
<pre><code>Route::get('user/profile', ['as' =&gt; 'profile', function()
{
    //
}]);</code></pre>
<p>You may also specify route names for controller actions:</p>
<pre><code>Route::get('user/profile', [
    'as' =&gt; 'profile', 'uses' =&gt; 'UserController@showProfile'
]);</code></pre>
<p>Now, you may use the route's name when generating URLs or redirects:</p>
<pre><code>$url = route('profile');

$redirect = redirect()-&gt;route('profile');</code></pre>
<p>The <code>currentRouteName</code> method returns the name of the route handling the current request:</p>
<pre><code>$name = Route::currentRouteName();</code></pre>
<p><a name="route-groups"></a></p>
<h2>Route Groups</h2>
<p>Sometimes you may need to apply filters to a group of routes. Instead of specifying the filter on each route, you may use a route group:</p>
<pre><code>Route::group(['before' =&gt; 'auth'], function()
{
    Route::get('/', function()
    {
        // Has Auth Filter
    });

    Route::get('user/profile', function()
    {
        // Has Auth Filter
    });
});</code></pre>
<p>You may use the <code>namespace</code> parameter within your <code>group</code> array to specify the namespace for all controllers within the group:</p>
<pre><code>Route::group(['namespace' =&gt; 'Admin'], function()
{
    //
});</code></pre>
<blockquote>
<p><strong>Note:</strong> By default, the <code>RouteServiceProvider</code> includes your <code>routes.php</code> file within a namespace group, allowing you to register controller routes without specifying the full namespace.</p>
</blockquote>
<p><a name="sub-domain-routing"></a></p>
<h3>Sub-Domain Routing</h3>
<p>Laravel routes also handle wildcard sub-domains, and will pass your wildcard parameters from the domain:</p>
<h4>Registering Sub-Domain Routes</h4>
<pre><code>Route::group(['domain' =&gt; '{account}.myapp.com'], function()
{

    Route::get('user/{id}', function($account, $id)
    {
        //
    });

});</code></pre>
<p><a name="route-prefixing"></a></p>
<h3>Route Prefixing</h3>
<p>A group of routes may be prefixed by using the <code>prefix</code> option in the attributes array of a group:</p>
<pre><code>Route::group(['prefix' =&gt; 'admin'], function()
{

    Route::get('user', function()
    {
        //
    });

});</code></pre>
<p><a name="route-model-binding"></a></p>
<h2>Route Model Binding</h2>
<p>Laravel model binding provides a convenient way to inject class instances into your routes. For example, instead of injecting a user's ID, you can inject the entire User class instance that matches the given ID.</p>
<p>First, use the router's <code>model</code> method to specify the class for a given parameter. You should define your model bindings in the <code>RouteServiceProvider::boot</code> method:</p>
<h4>Binding A Parameter To A Model</h4>
<pre><code>public function boot(Router $router)
{
    parent::boot($router);

    $router-&gt;model('user', 'App\User');
}</code></pre>
<p>Next, define a route that contains a <code>{user}</code> parameter:</p>
<pre><code>Route::get('profile/{user}', function(App\User $user)
{
    //
});</code></pre>
<p>Since we have bound the <code>{user}</code> parameter to the <code>App\User</code> model, a <code>User</code> instance will be injected into the route. So, for example, a request to <code>profile/1</code> will inject the <code>User</code> instance which has an ID of 1.</p>
<blockquote>
<p><strong>Note:</strong> If a matching model instance is not found in the database, a 404 error will be thrown.</p>
</blockquote>
<p>If you wish to specify your own "not found" behavior, pass a Closure as the third argument to the <code>model</code> method:</p>
<pre><code>Route::model('user', 'User', function()
{
    throw new NotFoundHttpException;
});</code></pre>
<p>If you wish to use your own resolution logic, you should use the <code>Router::bind</code> method. The Closure you pass to the <code>bind</code> method will receive the value of the URI segment, and should return an instance of the class you want to be injected into the route:</p>
<pre><code>Route::bind('user', function($value)
{
    return User::where('name', $value)-&gt;first();
});</code></pre>
<p><a name="throwing-404-errors"></a></p>
<h2>Throwing 404 Errors</h2>
<p>There are two ways to manually trigger a 404 error from a route. First, you may use the <code>abort</code> helper:</p>
<pre><code>abort(404);</code></pre>
<p>The <code>abort</code> helper simply throws a <code>Symfony\Component\HttpFoundation\Exception\HttpException</code> with the specified status code.</p>
<p>Secondly, you may manually throw an instance of <code>Symfony\Component\HttpKernel\Exception\NotFoundHttpException</code>.</p>
<p>More information on handling 404 exceptions and using custom responses for these errors may be found in the <a href="errors.html#http-exceptions">errors</a> section of the documentation.</p>
            </div>

        </article>
    </section>

</div>

<footer id="foot" class="textcenter">
    <div class="boxed">

        <nav id="secondary">
            <div id="logo-foot">
                <a href="http://laravel.com/"><img src="../../assets/img/logo-foot.png" alt="Laravel"></a>
            </div>
            <ul>
                <li><a href="#">Welcome</a></li>
                <li class="current-item"><a href="http://laravel.com/docs" title="Documentation">Documentation</a></li>
                <li><a href="http://laravel.com/api/4.2" title="Laravel Framework API">API</a></li>
                <li><a href="http://laracasts.com/" title="Documentation">Laracasts</a></li>
                <li><a href="https://forge.laravel.com/">Forge</a></li>
                <li><a href="http://blog.laravel.com/">Blog</a></li>
            </ul>
        </nav>

    </div>
</footer>

<div id="top">
    <a href="#index" title="Back to the top">
        <i class="icon-chevron-up"></i>
    </a>
</div>


    </div>

    <section id="copyright" class="textcenter">
        <div class="boxed">
            <div class="animated slideInLeft">
                Laravel is a trademark of Taylor Otwell.<br class="br-mobile--footer">
                Copyright &copy; <a href="http://twitter.com/taylorotwell" title="Taylor Otwell" target="_blank">Taylor Otwell</a>.<br class="br-mobile--footer">
                Website built with &hearts; <a href="http://ikreativ.com/" title="iKreativ" target="_blank">iKreativ</a>;<br class="br-mobile--footer">
                responsive by <a href="http://tighten.co/" title="Tighten Co." target="_blank">Tighten Co.</a>
            </div>
        </div>
    </section>

    <script src="../../assets/js/bundle.js"></script>

</body>

<!-- Mirrored from laravel.com/docs/master/routing by HTTrack Website Copier/3.x [XR&CO'2013], Mon, 02 Feb 2015 04:45:50 GMT -->
</html>
